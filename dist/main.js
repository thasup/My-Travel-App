var Client;(()=>{var e={770:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n="media/compass_fdb604b42070ed538e1a19724776f390.png"},514:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n="media/facebook_d27449d3893d1a0e8667c406112f3a21.png"},687:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n="media/github_bcf7ee3aeb239af59e10a9cb9818dab8.png"},409:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n="media/linkedin_4a22f01bde04fca6d4a50c89e70d326d.png"},395:(e,t,a)=>{var n=a(91),i=a(770),o=a(687),c=a(409),s=a(514),d='<html lang="en"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width,initial-scale=1"> <link rel="preconnect" href="https://fonts.googleapis.com"> <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> <link href="https://fonts.googleapis.com/css2?family=PT+Sans:ital,wght@0,400;0,700;1,400&family=Varela+Round&display=swap" rel="stylesheet"> <link href="'+n(i)+'" rel="icon" type="image/x-icon"/> <title>Travel App</title> </head> <body> <main class="main"> <section class="form"> <h3 class="headline">Where Would You Like To Go?</h3> <form class="form-panel" onsubmit="return Client.handleSubmit(event)"> <div class="place-panel"> <label for="place" class="panel-name">Destination</label> <input type="text" name="place" id="place" placeholder="Enter Your Destination Here"> <div id="error-msg">Please Enter Your Destination.</div> </div> <div class="start-date-panel"> <label for="start-date" class="panel-name">Start Date</label> <input type="date" name="start-date" id="start-date" placeholder="Start Date"> </div> <div class="end-date-panel"> <label for="end-date" class="panel-name">End Date</label> <input type="date" name="end-date" id="end-date" placeholder="End Date"> </div> <input type="submit" id="submit" value="Let\'s Plan!"> </form> </section> <div class="loader none"> <span></span> <span></span> <span></span> </div> <section class="detail"> <div class="menu-container"> <div class="menu-list"> <p class="tabs --active-tab" id="overview-tab" onclick=\'Client.handleTab(event,"overview-container")\'>Overview</p> <p class="tabs" id="forecast-tab" onclick=\'Client.handleTab(event,"weather-container")\'>Forecast</p> </div> </div> <div class="container" id="overview-container"></div> <div class="container none" id="weather-container"> <div class="forecast-summary-list"></div> <div class="forecast-detail-list"></div> </div> </section> <div class="background-img"> <div class="images" id="img-0"></div> </div> </main> <footer> <div class="social"> <a href="https://github.com/thasup" class="github"><img src="'+n(o)+'" alt="github"></a> <a href="https://www.linkedin.com/in/thanachon-supasatian-278292159/" class="linkedin"><img src="'+n(c)+'" alt="LinkedIn"></a> <a href="#" class="facebook"><img src="'+n(s)+'" alt="Facebook"></a> </div> <div class="copyright" id="about">&copy; Copyright Thanachon 2021</div> </footer> <script>"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register("/service-worker.js")}))<\/script> </body> </html>';e.exports=d},91:e=>{"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),t.hash&&(e+=t.hash),t.maybeNeedQuotes&&/[\t\n\f\r "'=<>`]/.test(e)?'"'.concat(e,'"'):e):e}}},t={};function a(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,a),o.exports}a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{"use strict";function e(e){var t,a,n,i,o;e.preventDefault();var c=document.getElementById("place").value,s=document.getElementById("start-date").value,d=document.getElementById("end-date").value,r=new Date(s),l=new Date(d),u=new Date,p=r.getDate()-u.getDate(),m=l.getDate()-u.getDate(),g=l.getDate()-r.getDate()+1,v="https://thasup-travel-app.herokuapp.com";(!1==(0<=p<16&&0<=m<16)&&(p=0,m=6),console.log({getStartDate:r,getEndDate:l,getTodayDate:u}),console.log({departDateValue:p,returnDateValue:m,duration:g}),Client.handleLoader(),""!==c)?(console.log("::: GeoName Fetching :::"),fetch("".concat(v,"/place"),{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify({inputPlace:c})}).then((function(e){return e.json()})).then((function(e){console.log("::: Fetching Success :::"),t=e.geonames[0].lat,a=e.geonames[0].lng,n=e.geonames[0].countryName,console.log(e),console.log({inputLat:t,inputLng:a,country:n}),console.log({inputPlace:c,country:n,inputStartDate:s,inputEndDate:d})})).then((function(){console.log("::: WeatherBit Fetching :::"),fetch("".concat(v,"/forecast"),{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify({inputLat:t,inputLng:a})}).then((function(e){return e.json()})).then((function(e){console.log("::: Fetching Success :::");var t=e;i=e.city_name,o=e.country_code,Client.updateWeather(t,g,p,p,m),console.log(e),console.log({city:i,countryCode:o})})).then((function(){console.log("::: PixaBay City Image Fetching :::"),fetch("".concat(v,"/image"),{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify({city:i,country:n})}).then((function(e){return e.json()})).then((function(e){console.log("::: Initial Fetching Success :::"),0===e.totalHits?(console.log("::: Fail to Fetch City Image :::"),fetch("".concat(v,"/countryImage"),{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify({city:i,country:n})}).then((function(e){return e.json()})).then((function(e){console.log("::: Fetching Country Image Success :::"),console.log(e),Client.updateImage(e)}))):(console.log("::: Fetching City Image Success :::"),console.log(e),Client.updateImage(e))})).then((function(){console.log("::: RestCountry Fetching :::"),fetch("".concat(v,"/countryInfo"),{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify({countryCode:o})}).then((function(e){return e.json()})).then((function(e){console.log("::: Fetching Success :::");var t=e;Client.updateUI(c,n,s,d,g,t),console.log(e)})).then((function(){document.getElementById("place").value="",document.getElementById("start-date").value="",document.getElementById("end-date").value=""}))}))}))}))):document.querySelector("#error-msg").style.display="block"}function t(e,t){var a=document.getElementsByClassName("tabs"),n=document.getElementsByClassName("container"),i=e.target;if(!i.classList.contains("--active-tab")){for(var o=0;o<a.length;o++)a[o].classList.remove("--active-tab");i.classList.add("--active-tab");for(var c=0;c<n.length;c++)n[c].classList.add("none");document.getElementById(t).classList.remove("none")}}function i(e){var t=e.totalHits;document.querySelector(".images").style.backgroundImage="url(".concat(e.hits[0].webformatURL,")");for(var a=1;a<t&&a<7;a++){var n=document.createElement("div"),i=e.hits[a].webformatURL,o="background-image: url(".concat(i,");");n.setAttribute("class","images"),n.setAttribute("id","img-".concat(a)),n.setAttribute("style",o),document.getElementsByClassName("background-img")[0].appendChild(n)}}function o(){var e=new Date,t=e.getDate(),a=e.getMonth(),n=e.getFullYear(),i="".concat(n,"-").concat(a+1,"-").concat(t),o="".concat(t," ").concat(["January","February","March","April","May","June","July","August","September","October","November","December"][a]," ").concat(n),c=e.getDate(),s=e.getMonth()+1;c<10&&(c="0".concat(c)),s<10&&(s="0".concat(s));var d="".concat(n,"-").concat(s,"-").concat(c);return console.log({today:i,todayNameMonth:o,minDay:d}),document.getElementById("start-date").setAttribute("min",d),document.getElementById("end-date").setAttribute("min",d),d}function c(e,t,a,n,i,o){var c=["January","February","March","April","May","June","July","August","September","October","November","December"],s=new Date(a),d=new Date(n),r="".concat(s.getDate()," ").concat(c[s.getMonth()]," ").concat(s.getFullYear()),l="".concat(d.getDate()," ").concat(c[d.getMonth()]," ").concat(d.getFullYear()),u=document.querySelector("#overview-container"),p=e.charAt(0).toUpperCase()+e.slice(1);u.innerHTML='<p><span id="highlight">'.concat(p,", ").concat(t,"</span></p>\n\n                            <p>").concat(r," - ").concat(l,"\n(").concat(i,' days)</p>\n                            <img id="flag" src="').concat(o[0].flag,'" alt="').concat(t,'_falg">\n\n                            <p><span id="keys">Capital : </span>').concat(o[0].capital,'</p>\n\n                            <p><span id="keys">Currency : </span>').concat(o[0].currencies[0].name," (").concat(o[0].currencies[0].symbol,')</p>\n\n                            <p><span id="keys">Language : </span>').concat(o[0].languages[0].name,'</p>\n\n                            <p><span id="keys">Population : </span>').concat(o[0].population.toLocaleString(),'</p>\n\n                            <p><span id="keys">Area : </span>').concat(o[0].area.toLocaleString()," sq.km</p>")}function s(e,t,a,n,i){var o=document.querySelector(".forecast-summary-list"),c=document.querySelector(".forecast-detail-list"),s="https://www.weatherbit.io/static/img/icons/";if(!0==(0<=n<16&&0<=i<16))for(var d=0;d<t;d++){var r=d+a,l=new Date(e.data[r].valid_date),u=l.getDate(),p=l.getMonth(),m="".concat(u," ").concat(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][p]);o.innerHTML+='<div class="forecast-summary" id="forecast-summary-'.concat(d,'">\n                                                    <div id="date">').concat(m,'</div>\n                                                    <div id="icon"><img id="weather-icon" src="').concat(s).concat(e.data[r].weather.icon,'.png" alt="Weather_Icon"/></div>\n                                                    <div id="temp">').concat(e.data[r].temp,' <span id="cel">°C</span></div>\n                                                    <div id="condition">').concat(e.data[r].weather.description,"</div>\n                                                </div>"),c.innerHTML+='<div class="forecast-detail" id="forecast-detail-'.concat(d,'">\n                                                    <div id="precipitation">Precipitation   ').concat(e.data[r].pop,' %</div>\n                                                    <div id="wind-speed">Wind Speed   ').concat(e.data[r].wind_spd,' m/s</div>\n                                                    <div id="humidity">Humidity   ').concat(e.data[r].rh,' %</div>\n                                                    <div id="pressure">Pressure   ').concat(Math.round(e.data[r].pres),' mb</div>\n                                                    <div id="visibility">Visibility   ').concat(Math.round(e.data[r].vis)," km</div>\n                                                </div>")}else for(var g=0;g<7;g++){var v=new Date(e.data[g].valid_date),h=v.getDate(),y=v.getMonth(),f="".concat(h," ").concat(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][y]);o.innerHTML+='<div class="forecast-summary" id="forecast-summary-'.concat(g,'">\n                                                    <div id="date">').concat(f,'</div>\n                                                    <div id="icon"><img id="weather-icon" src="').concat(s).concat(e.data[g].weather.icon,'.png" alt="Weather_Icon"/></div>\n                                                    <div id="temp">').concat(e.data[g].temp,' <span id="cel">°C</span></div>\n                                                    <div id="condition">').concat(e.data[g].weather.description,"</div>\n                                                </div>"),c.innerHTML+='<div class="forecast-detail" id="forecast-detail-'.concat(g,'">\n                                                    <div id="precipitation">Precipitation   ').concat(e.data[g].pop,' %</div>\n                                                    <div id="wind-speed">Wind Speed   ').concat(e.data[g].wind_spd,' m/s</div>\n                                                    <div id="humidity">Humidity   ').concat(e.data[g].rh,' %</div>\n                                                    <div id="pressure">Pressure   ').concat(Math.round(e.data[g].pres),' mb</div>\n                                                    <div id="visibility">Visibility   ').concat(Math.round(e.data[g].vis)," km</div>\n                                                </div>")}}function d(){var e=document.getElementsByClassName("loader"),t=document.getElementsByClassName("detail");e[0].style.opacity=1,e[0].classList.remove("none"),t[0].style.display="block",setTimeout((function(){t[0].style.opacity=1,e[0].style.opacity=0,e[0].classList.add("none")}),5e3)}function r(){var e=document.getElementsByClassName("images"),t=function(e,t,n){setTimeout((function(){e.style.opacity=.75,console.log("timeout-1 ".concat(t)),setTimeout((function(){e.style.opacity=0,console.log("timeout-2 ".concat(t)),t===n&&a()}),6e3)}),6e3*t)},a=function(){for(var a=0;a<e.length;a++){var n=document.getElementById("img-".concat(a));t(n,a,e.length-1)}};a()}a.r(n),a.d(n,{handleDate:()=>o,handleLoader:()=>d,handleSubmit:()=>e,handleTab:()=>t,loopImage:()=>r,updateImage:()=>i,updateUI:()=>c,updateWeather:()=>s});a(395);window.addEventListener("load",(function(e){Client.handleDate()})),window.addEventListener("submit",(function(e){e.preventDefault(),Client.loopImage()}))})(),Client=n})();